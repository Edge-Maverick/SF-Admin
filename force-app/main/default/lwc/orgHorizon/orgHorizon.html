<template>
    <template lwc:if={hasAllAdminPermission}>
    <div class="org-horizon-main" style={customThemeStyling}>
                <div class="navigation-container">
                <div class="slds-var-p-around_small">
                    <!--strong class="slds-text-heading_small" style="color:#bc876d">Hello! <strong style="color:#bb673e;font-size:24px"> {userName}</strong>  </strong>
                    <div class="padding:0;margin:0;"><strong class="" style="color:#bc876d;font-size:5px;padding:0;margin:0;">ADMIN101.ADMIN101.ADMIN101.ADMIN101.ADMIN101.ADMIN101</strong></div-->
                    <div class="navigation-highlight">
                        <template lwc:if={currentOrgInfo}>
                            <ol>
                                <li class="quick-copy">
                                    <span class="slds-text-link_faux">{currentOrgInfo.Name}</span>
                                </li>
                                <li class="quick-copy">
                                    <span class="slds-text-link_faux">{maskedOrgId}</span>
                                    <lightning-button-icon icon-name="utility:copy" size="medium" onclick={copyOrgId} class="slds-float_right" variant="bare"></lightning-button-icon>
                                </li>
                                <li>
                                    <template lwc:if={isProduction}>
                                        <span class="slds-badge">Production</span>
                                    </template>
                                    <template lwc:else>
                                        <span class="slds-badge">Sandbox</span>
                                    </template>
                                </li>
                            </ol>
                        </template>
                        <template lwc:else>
                            <lightning-dynamic-icon 
                                type="ellie" 
                                alternative-text="Loading..">
                            </lightning-dynamic-icon>
                        </template>
                    </div>
                </div>
                <lightning-vertical-navigation selected-item={currentContent} onselect={handleSelect} class="navigation">
                    
                    <lightning-vertical-navigation-item-icon label="Command Console" name="command_console" icon-name="utility:desktop_console"></lightning-vertical-navigation-item-icon>
                    <lightning-vertical-navigation-item-icon label="Org Overview" name="org_overview" icon-name="utility:home"></lightning-vertical-navigation-item-icon>
                    <lightning-vertical-navigation-item-icon label="Licence Utilization" name="licence_utilization" icon-name="utility:resource_capacity"></lightning-vertical-navigation-item-icon>
                    <lightning-vertical-navigation-item-icon label="Setup Audit Trail" name="setup_audit_trail" icon-name="utility:variation_attribute_setup"></lightning-vertical-navigation-item-icon>
                    <lightning-vertical-navigation-item label="User Adoption" name="user_adoption"></lightning-vertical-navigation-item>
                    <lightning-vertical-navigation-item label="Login Forensics" name="login_forensics"></lightning-vertical-navigation-item>
                    <lightning-vertical-navigation-item-icon label="Technical Health" name="techincal_health" icon-name="utility:heart"></lightning-vertical-navigation-item-icon>
                    <template lwc:if={isProduction}>
                        <lightning-vertical-navigation-item-icon label="Sandbox" name="sandbox_overview" icon-name="utility:dx_org_test"></lightning-vertical-navigation-item-icon>
                    </template>
                    <hr style="margin-top:5px; margin-bottom:10px"></hr>
                    <!-- TODO : make the launch pad item below dynamic or remove it completly. -->
                    <!--lightning-vertical-navigation-section label="Launch Pad">
                    </lightning-vertical-navigation-section-->
                    <hr style="margin-top:5px; margin-bottom:10px"></hr>
                    <lightning-vertical-navigation-item-icon label="Settings" name="settings" icon-name="utility:automate"></lightning-vertical-navigation-item-icon>
                </lightning-vertical-navigation>
                {currentContent}
                </div>
                <div class="content-container">
                    <!-- START :: MAIN CONTENT HOLDER -->
                    <template lwc:if={showOrgOverview}>
                        <c-org-overview></c-org-overview>
                    </template>
                    <template lwc:elseif={showLicenceUtilization}>
                        <c-license-utilization></c-license-utilization>
                    </template>
                    <template lwc:elseif={showSetupAuditTrail}>
                        <c-setup-audit-trail-viewer></c-setup-audit-trail-viewer>
                    </template>
                    <template lwc:elseif={showLoginForensics}>
                        <c-login-forensics></c-login-forensics>
                    </template>
                    <template lwc:elseif={showTechincalHealth}>
                        <c-techincal-health></c-techincal-health>
                    </template>
                    <template lwc:elseif={showCommandConsole}>
                        <c-admin-command-console></c-admin-command-console>
                    </template>
                    <template lwc:else>
                        Select a Proper Navigation option.
                    </template>
                    <!-- END :: MAIN CONTENT HOLDER -->
                </div>
    </div>
    </template>
    <template lwc:else>
        <div class="demo-only" style="height:24rem">
        <section role="dialog" tabindex="0" aria-modal="true" aria-labelledby="prompt-heading-id" aria-describedby="prompt-message-wrapper" class="slds-modal slds-fade-in-open slds-modal_prompt">
        <div class="slds-modal__container">
        <div class="slds-modal__header slds-theme_error slds-theme_alert-texture">
        <h1 class="slds-text-heading_medium" id="prompt-heading-id">Service Unavailable</h1>
        </div>
        <div class="slds-modal__content slds-p-around_medium" id="prompt-message-wrapper">
        <p>There is someissue with the confiiuration or permissions please reach out to your org System Administrator</p>
        <ul class="slds-list_dotted">
            <li>- The current user does not have the right permission.</li>
            <li>Check for open issue here..</li>
            <li>List Item</li>
        </ul>
        </div>
        <div class="slds-modal__footer slds-theme_default">
        <!--button class="slds-button slds-button_neutral">Got It</button-->
        </div>
        </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </div>
    </template>
</template>