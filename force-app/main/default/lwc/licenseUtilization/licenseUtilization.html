<template>
    <lightning-layout vertical-align="spread" multiple-rows>
        <lightning-layout-item size="12" >
            <div style="width:100%;" class="slds-p-around_medium">
                <strong class="slds-text-heading_medium">User Licences</strong>
                <lightning-helptext content="Shows the utilization of licenses across the org. ( source: UserLicense|User )"></lightning-helptext>
            </div>
        </lightning-layout-item>
        <lightning-layout-item size="9" >

            <lightning-layout horizontal-align="spread">
                <lightning-layout-item size="3">
                    <c-loki-kpi-progress title="USER LICENSE %" used-value={totalUserLicence.usedValue} total-value={totalUserLicence.totalValue} display-mode="ring" auto-format inverse-format>
                    </c-loki-kpi-progress>
                </lightning-layout-item>
                <lightning-layout-item size="3">
                    <c-loki-text title="DORMANT USERS #" text={dormantUsers} sub-text="< Last 90 days" format={dormatUserForamt}>
                        <lightning-icon icon-name="utility:resource_absence" size="large"></lightning-icon>
                    </c-loki-text>
                </lightning-layout-item>
                <lightning-layout-item size="3">
                    <c-loki-kpi-progress title="CRITICAL LICENSE %" used-value={totalUserLicenceCritical.usedValue} total-value={totalUserLicenceCritical.totalValue} display-mode="ring">
                    </c-loki-kpi-progress>
                </lightning-layout-item>
                <lightning-layout-item size="3">
                    <c-loki-text title="AVAILABLE CRITICAL LICENCE #" text={totalUserLicenceCritical.remainingValue} hide-icon>
                    </c-loki-text>
                </lightning-layout-item>
            </lightning-layout>
            <template lwc:if={licenceUtilizationData}>
                <c-loki-bar-plot
                    horizontal="true"
                    title="License Utilization (%)"
                    plot-data={licenceUtilizationData}
                    dimension="Label"
                    measure="Percent"
                    sort="desc"
                    extra-width="250">
                </c-loki-bar-plot>
            </template>
            <template lwc:else>
                loading..
            </template>
            
        </lightning-layout-item>
        <lightning-layout-item size="3" >
            <c-loki-text title="PERM SET LICENCES" value="200">
            </c-loki-text>
            <c-loki-text title="USED LICENCES" value="200">
            </c-loki-text>
            <c-loki-text title="TOTAL LICENCES" value="200">
            </c-loki-text>
            <c-loki-text title="USED LICENCES" value="SOME!">                
                <lightning-icon icon-name="utility:jump_to_bottom" size="small"></lightning-icon>
            </c-loki-text>
        </lightning-layout-item>
    </lightning-layout>
    <hr/>
    <lightning-layout vertical-align="spread" multiple-rows>
        <lightning-layout-item size="12" >
            <div style="width:100%;" class="slds-p-around_medium">
                <strong class="slds-text-heading_medium">Permission Set Licences</strong>
            </div>
        </lightning-layout-item>

    </lightning-layout>
</template>